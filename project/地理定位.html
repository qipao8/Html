<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>地理定位</title>
     <!-- 引入当前地图api -->
     <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
     <!-- 准确定位操作 -->
     <script>
         //获取当前地理位置
         function init() {
             navigator.geolocation.getCurrentPosition(function (position) {
                 var coords = position.coords;
                 //设定地图参数，将用户的当前地理位置的经纬度设为地图中心点
                 var latlng = new google.maps.LatLng(coords.latitude,coords. longitude);
                 //绘制缩放
                 var myOptions = {
                     zoom: 14,
                    center: latlng,
                     mapTypeId: google.maps.MapTypeId.ROADMAP
                 }
                 //创建地图并“map”div中显示
                 var map1;
                 map1 = new google.maps.Map(document.getElementById("map"), myOptions);
                 //地图上创建标记
                 var marker = new google.maps.Marker({
                     position: latlng,
                     map: map1
                 });
                 //设定标准窗口，并指定该窗口的注释文字
                 var infowindow = new google.maps.Infowindow({
                     contene: "当前位置"
                 });
                 infowindow.open(map1, marker);
             })
         }
     </script>
</head>

<body onload="init()">
    <div id="map" style="width: 400px; height: 400px;"></div>
</body>

</html>